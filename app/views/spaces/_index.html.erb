<table class="table">
  <thead>
    <tr>
      <th>Friendly name</th>
      <th>Interior</th>
      <th>Devices</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @spaces.each do |space| %>
      <tr>
        <td><%= link_to space.friendly_name, space %></td>
        <td><%= space.interior %></td>
	<td>
	  <% if space.devices.count == 0 %>
	    0
	  <% elsif space.devices.count == 1 %>
	    <%= link_to space.devices.first.friendly_name, space.devices.first %>
	  <% else %>
  	    <%= link_to space.devices.count, "/devices?space_id=#{space.id}" %>
	  <% end %>
	</td>

        <td><%= link_to 'Edit', edit_space_path(space) %></td>
        <td><%= link_to 'Destroy', space, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>
